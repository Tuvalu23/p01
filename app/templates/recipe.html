{% extends "base.html" %}
{% block title %}{{ recipe.title }} - {{ country_name }} Recipe{% endblock %}

{% block content %}
<div class="mt-8">
    <h1 class="text-3xl font-bold mb-4 text-center">{{ recipe.title }}</h1>
    {% if recipe.image %}
    <div class="flex justify-center mb-6">
        <img src="{{ recipe.image }}" alt="{{ recipe.title }}" class="max-w-md rounded shadow"/>
    </div>
    {% endif %}
    <h2 class="text-2xl font-semibold mb-2">Ingredients</h2>
    <pre class="bg-gray-100 p-4 rounded mb-4">{{ recipe.ingredients }}</pre>

    <h2 class="text-2xl font-semibold mb-2">Instructions</h2>
    <p class="bg-gray-100 p-4 rounded mb-4">{{ recipe.instructions }}</p>

    <h2 class="text-2xl font-semibold mb-4">Votes</h2>
    <p class="mb-2">Upvotes: {{ upvotes }} | Downvotes: {{ downvotes }}</p>
    <div class="flex items-center gap-4">
        <form method="POST" action="{{ url_for('vote_recipe', country_name=country_name, recipe_id=recipe.id) }}">
            <button type="submit" name="action" value="upvote" class="px-4 py-2 bg-green-500 text-white rounded">👍</button>
        </form>
        <form method="POST" action="{{ url_for('vote_recipe', country_name=country_name, recipe_id=recipe.id) }}">
            <button type="submit" name="action" value="downvote" class="px-4 py-2 bg-red-500 text-white rounded">👎</button>
        </form>
    </div>

    <a href="{{ url_for('country_recipes_all', country_name=country_name) }}" class="text-blue-500 hover:underline mt-4 inline-block">Back to All Recipes</a>
    <a href="{{ url_for('country_page', country_name=country_name) }}" class="text-blue-500 hover:underline mt-4 inline-block">Back to {{ country_name }}</a>
</div>
{% endblock %}
