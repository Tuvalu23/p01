{% extends "base.html" %}
{% block title %}{{ country_name }} - All Recipes{% endblock %}

{% block content %}
<div class="mt-8">
    <h1 class="text-3xl font-bold mb-4 text-center">Recipes from {{ country_name }}</h1>

    {% if country_image %}
    <div class="flex justify-center mb-6">
        <img src="{{ country_image }}" alt="{{ country_name }} Image" class="max-w-md rounded shadow"/>
    </div>
    {% endif %}

    <section class="mb-8">
        {% for recipe in recipes %}
        <div class="mb-4 p-4 border rounded shadow">
            <h3 class="text-xl font-bold mb-2">{{ recipe.title }}</h3>
            {% if recipe.image %}
            <img src="{{ recipe.image }}" alt="{{ recipe.title }}" class="w-full h-48 object-cover rounded mb-2">
            {% endif %}
            <p class="mb-2">Upvotes: {{ recipe.upvotes }} | Downvotes: {{ recipe.downvotes }}</p>
            <div class="flex items-center gap-2">
                <form method="POST" action="{{ url_for('vote_recipe', country_name=country_name, recipe_id=recipe.id) }}">
                    <button type="submit" name="action" value="upvote" class="px-4 py-2 bg-green-500 text-white rounded">👍</button>
                </form>
                <form method="POST" action="{{ url_for('vote_recipe', country_name=country_name, recipe_id=recipe.id) }}">
                    <button type="submit" name="action" value="downvote" class="px-4 py-2 bg-red-500 text-white rounded">👎</button>
                </form>
            </div>
        <a href="{{ url_for('recipe_page', country_name=country_name, recipe_id=recipe.id) }}" class="text-blue-500 hover:underline mt-2 block">Read More</a>
        </div>
        {% endfor %}
    </section>

    <a href="{{ url_for('country_page', country_name=country_name) }}" class="text-blue-500 hover:underline mt-4 inline-block">Back to {{ country_name }}</a>
</div>
{% endblock %}
